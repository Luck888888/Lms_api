## Документация по phpunit-тестированию API

##                 Команды для запуска тестов:

Для запуска всех тестов в проекте: php artisan test
Для запуска всех тестов в одном классе: vendor/bin/phpunit --filter название класса
Для запуска одного метода: vendor/bin/phpunit --filter название метода

### Модуль Users
##                      Auth
[AuthenticationUserTest](../Modules/Users/Tests/Feature/Auth/AuthenticationUserTest.php)

 Запуск тестов: **vendor/bin/phpunit --filter AuthenticationUserTest**
##                       Login
-Тест на **вход пользователя** `{/api/v1/login}`, метод **test_user_login_successful()**:
          -статус - 200,
         -статус об успешной аутентификации,
         -утверждение о наличии токена авторизации.

-Тест на **проверку введенных данных** `{/api/v1/login}`, метод **test_user_login_fail_credentials()**:
         -статус - 401,
         -проверка неверно введенных email,password пользователя.

-Тест на **проверку введенных данных** `{/api/v1/login}`, метод **test_user_login_empty_credentials()**:
          -статус - 400,
          -проверка пустых значений полей - email, password.

##                            Logout
-Тест на **выход пользователя** `{/api/v1/logout}`, метод **test_user_logout()**:
          -статус - 200,
          -статус о том, что пользователь авторизован,
          -статус об успешном разлогировании пользователя.

-Tест на **logout без передачи токена аутентификации** `{/api/v1/logout}`, метод **test_user_logout_without_token()**:
          -статус - 401,
          -утверждение о том, что пользователь не аутентифицирован.

##                            Users profile
[ApiUsersProfileTest](../Modules/Users/Tests/Feature/Users/ApiUsersProfileTest.php)

Запуск тестов: **vendor/bin/phpunit --filter ApiUsersProfileTest**

##                          Show
-Тест на **просмотр профайла пользователя без передачи токена аутентификации** `{/api/v1/profile}`, метод **test_user_profile_show_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **успешный просмотр профайла пользователя** `{/api/v1/profile}`, метод **test_user_profile_show_successful()**:
         -статус - 200,
         -утверждение об успешном просмотре профайла пользователя,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

##                    Update
-Тест на **проверку введенных данных** `{/api/v1/profile}`, метод **test_user_profile_update_empty_credentials()**:
         -статус - 400,
         -проверка пустых значений полей - email, phone, address.

-Тест на **успешное обновление профайла пользователя** `{/api/v1/profile}`, метод **test_user_profile_update_successful()**:
         -статус - 200,
         -утверждение об успешном обновлении профайла пользователя,
         -утверждение о наличии  полей (структура данных),
         -утверждение о наличии новых данных в бд,
         -утверждение о соответсвии редактируемых данных.

##                  Password update
-Тест на **проверку введенного пароля пользователя** `{/api/v1/profile/password}`, метод **test_user_profile_update_password_fail()**:
         -статус - 400,
         -проверка неверно введенного пароля пользователя.

-Тест на **успешное обновление пароля пользователя** `{/api/v1/profile/password}`, метод **test_user_profile_update_password_successful()**:
         -статус - 200,
         -утверждение об успешном обновлении пароля пользователя,
         -утверждение о том,что в сесси нет ошибочных данных.

##                            Users
[ApiUsersTest](../Modules/Users/Tests/Feature/Users/ApiUsersTest.php)

Запуск тестов: **vendor/bin/phpunit --filter ApiUsersTest**

##                             Index
-Тест на **успешное получение всех пользователей** `{/api/v1/users}`, метод  **test_user_index_successful()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешное получение всех пользователей с правом доступа - учитель** `{/api/v1/users}`, метод  **test_user_index_permissions_teacher()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Tест на **получение всех пользователей без передачи токена аутентификации** `{/api/v1/users}`, метод **test_users_index_without_token()**:
         -статус - 401,
         -утверждение о том, что пользователь не аутентифицирован.

-Тест на **получение всех пользователей без права доступа студента** `{/api/v1/users}`, метод **test_user_index_without_permissions()**:
         -статус - 403,
         -утверждение о том, что пользователь не имеет прав доступа для просмотра списка пользователей.

#                               Store
-Тест на **создание пользователя без передачи токена аутентификации** `{/api/v1/users}`, метод **test_user_store_without_token()**:
        -статус - 401,
        -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **создание пользователя без права доступа учителя** `{/api/v1/users}`, метод **test_user_store_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для создания пользователя.

-Тест на **создание пользователя без права доступа студента** `{/api/v1/users}`, метод **test_user_store_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для создания пользователя.

-Тест на **проверку введенных данных пользователя** `{/api/v1/users}`, метод **test_user_store_fail()**:
         -статус - 400,
         -проверка неверно введенных данных пользователя.

-Тест на **успешное создание пользователя** `{/api/v1/users}`, метод **test_user_store_successful()**:
         -статус - 201,
         -статус о том, что пользователь успешно создан,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии данных в целом,
         -утверждение о соответсвии созданных данных.

##                            Show
-Тест на **просмотр пользователя по id без передачи токена аутентификации** `{/api/v1/users/.$user_id}`, метод **test_user_show_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **просмотр пользователя по id без права доступа студента** `{/api/v1/users/.$user_id}`, метод **test_user_show_without_permissions()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для просмотра пользователя по id.

-Тест на **просмотр пользователя по id, которого не существует, не найден** `{/api/v1/users/.$user_id}`, метод **test_user_show_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что пользователь не найден.

-Тест на **успешное получение пользователя по id с правом доступа - учитель** `{/api/v1/users/.$user_id}`, метод **test_user_show_permissions_teacher()**:
         -статус - 200,
         -утверждение об успешном получении пользователя по id,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешное получение пользователя по id** `{/api/v1/users/.$user_id}`, метод **test_user_show_successful()**:
         -статус - 200,
         -утверждение об успешном получении пользователя по id,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

##                         Update
-Тест на **редактирование пользователя по id без передачи токена аутентификации** `{/api/v1/users/.$user_id}`, метод **test_user_update_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **редактирование пользователя по id без права доступа для учителя** `{/api/v1/users/.$user_id}`, метод **test_user_update_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для редактирования пользователя по id.

-Тест на **редактирование пользователя по id без права доступа для студента** `{/api/v1/users/.$user_id}`, метод **test_user_update_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для редактирования пользователя по id.

-Тест на **редактирование пользователя по id, которого не существует, не найден** `{/api/v1/users/.$user_id}`, метод **test_user_update_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что пользователь не найден.

-Тест на **проверка введенных данных пользователя** `{/api/v1/users/.$user_id}`, метод **test_user_update_fail()**:
         -статус - 400,
         -утверждение о неверно введенных данных пользователя.

-Тест на **успешное редактирование пользователя по id** `{/api/v1/users/.$user_id}`, метод **test_user_update_successful()**:
         -статус - 200,
         -утверждение об успешном редактировании пользователя по id,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии новых данных в бд,
         -утверждение о соответсвии редактируемых данных.


##                         Delete
-Тест на **удаление пользователя по id без передачи токена аутентификации** `{/api/v1/users/.$user_id}`, метод **test_user_destroy_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **удаление пользователя по id без права доступа для учителя** `{/api/v1/users/.$user_id}`, метод **test_user_destroy_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для удаления пользователя по id.

-Тест на **удаление пользователя по id без права доступа для студента** `{/api/v1/users/.$user_id}`, метод **test_user_destroy_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для удаления пользователя по id.

-Тест на **удаление пользователя по id, которого не существует, не найден** `{/api/v1/users/.$user_id}`, метод **test_user_destroy_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что пользователь не найден.

-Тест на **успешное удаление пользователя по id** `{/api/v1/users/.$user_id}`, метод **test_user_destroy_successful()**:
         -статус - 200,
         -утверждение об успешном удалении пользователя по id,
         -статус о том, что пользователь аутентифицирован.



### Модуль Curriculums
##                            Curriculums
[ApiCurriculumsTest](../Modules/Curriculums/Tests/Feature/Curriculums/ApiCurriculumsTest.php)

Запуск тестов: **vendor/bin/phpunit --filter ApiCurriculumsTest**

##                             Index
-Tест на **получение всех учебных программ без передачи токена аутентификации**`{/api/v1/curriculums}`, метод **test_curriculum_without_token()**:
         -статус - 401,
         -утверждение о том, что пользователь не аутентифицирован.

-Тест на **успешное получение всех учебных программ,с правом доступа - админ**`{/api/v1/curriculums}`, метод **test_curriculum_index_admin()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешное получение всех учебных программ с правом доступа - учитель**`{/api/v1/curriculums}`, метод  **test_curriculum_index_teacher()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешное получение всех учебных программ с правом доступа - студента** `{/api/v1/curriculums}`, метод **test_curriculum_index_student()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

##                            Show
-Тест на **просмотр учебной программы по id без передачи токена аутентификации** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_show_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **успешный просмотр учебной программы по id с правом доступа - админ** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_show_admin()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешный просмотр учебной программы по id с правом доступа - учитель** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_show_teacher()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешный просмотр учебной программы по id с правом доступа - студент** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_show_student()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **просмотр учебной программы по id, которой не существует,не найдена** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_show_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что учебная программа не найдена.

#                               Store
-Тест на **создание учебной программы без передачи токена аутентификации** `{/api/v1/curriculums/}`, метод **test_curriculum_store_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **создание учебной программы без права доступа учителя** `{/api/v1/curriculums/}`, метод **test_curriculum_store_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для создания учебной программы.

-Тест на **создание учебной программы без права доступа студента** `{/api/v1/curriculums/}`, метод **test_curriculum_store_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для создания учебной программы.

-Тест на **проверку введенных данных** `{/api/v1/curriculums/',$curriculum}`, метод **test_curriculum_store_fail()**:
         -статус - 400,
         -проверка неверно введенных данных.

-Тест на **успешное создание учебной программы** `{/api/v1/curriculums/',$curriculum}`, метод **test_curriculum_store_successful()**:
         -статус - 201,
         -статус о том, что учебная программа успешно создана,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии данных в целом,
         -утверждение о соответсвии созданных данных.

##                         Update
-Тест на **редактирование учебной программы по id без передачи токена аутентификации** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_update_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **редактирование учебной программы по id без права доступа для учителя** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_update_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для редактирования учебной программы по id.

-Тест на **редактирование учебной программы по id без права доступа для студента** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_update_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для редактирования учебной программы по id.

-Тест на **редактирование учебной программы по id, которой не существует, не найдена** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_update_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что учебная программа не найдена.

-Тест на **проверку введенных данных** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_update_fail()**:
         -статус - 400,
         -утверждение о неверно введенных данных.

-Тест на **успешное редактирование учебной программы по id** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_update_successful()**:
         -статус - 200,
         -утверждение об успешном редактировании учебной программы по id,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии новых данных в бд,
         -утверждение о соответсвии редактируемых данных.

##                         Destroy
-Тест на **удаление учебной программы по id без передачи токена аутентификации** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_destroy_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **удаление учебной программы по id без права доступа для учителя** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_destroy_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для удаления учебной программы по id.

-Тест на **удаление учебной программы по id без права доступа для студента** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_destroy_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не имеет прав доступа для удаления учебной программы по id.

-Тест на **удаление учебной программы по id, которой не существует,не найдена** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_destroy_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что учебная программа не найдена.

-Тест на **успешное удаление учебной программы по id** `{/api/v1/curriculums/'.$curriculum_id}`, метод **test_curriculum_destroy_successful()**:
         -статус - 200,
         -утверждение об успешном удалении учебной программы по id,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что в бд отсутствует соответсвующая учебная программа.

##                            CurriculumsStudent
[ApiCurriculumsStudentTest](../Modules/Curriculums/Tests/Feature/CurriculumsStudent/ApiCurriculumsStudentTest.php)

Запуск тестов: **vendor/bin/phpunit --filter ApiCurriculumsStudentTest**

##                             Index
-Tест на **получение учебной программы со студентами без передачи токена аутентификации**`{/api/v1/curriculums/'.$curriculum_id.'/students'}`, метод **test_curriculum_student_index_without_token()**:
         -статус - 401,
         -утверждение о том, что пользователь не аутентифицирован.

-Тест на **получение учебной программы со студентами по id,которой не существует,не найдена** `{/api/v1/curriculums/'.$curriculum_id.'/students'}`, метод **test_curriculum_student_index_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что учебная программа не найдена.

-Тест на **успешное получение учебной программы со всеми студентами по id,с правом доступа - учитель**`{/api/v1/curriculums/'.$curriculum_id.'/students'}`, метод  **test_curriculum_student_index_with_permissions_teacher()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешное получение учебной программы со всеми студентами по id с правом доступа - студент**`{/api/v1/curriculums/'.$curriculum_id.'/students'}`, метод  **test_curriculum_student_index_with_permissions_student()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

-Тест на **успешное получение учебной программы со всеми студентами по id с правом доступа - админ** `{/api/v1/curriculums/'.$curriculum_id.'/students'}`, метод **test_curriculum_student_index_with_permissions_admin()**:
         -статус - 200,
         -статус о том, что пользователь авторизован,
         -утверждение о наличии данных в целом,
         -утверждение о наличии  полей (структура данных).

#                               Store
-Тест на **добавление студентов к учебной программе без передачи токена аутентификации** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_store_without_token()**:
         -статус - 401,
         -утверждение о том, что пользоваетль не аутентифицирован.

-Тест на **добавление студентов к учебной программе по id,которой не существует,не найдена** `{/api/v1/curriculums/'.$curriculum_id.'/students'}`, метод **test_curriculum_student_store_not_found()**:
         -статус - 404,
         -утверждение о том, что учебная программа не найдена.

-Тест на **проверку введенных данных** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_store_invalid_data()**:
         -статус - 400,
         -утверждение, что данные не верны.

-Тест на **добавление студентов к учебной программе по id без права доступа учителя** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_store_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не авторизован.

-Тест на **добавление студентов к учебной программе по id без права доступа студента** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_store_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не авторизован.

-Тест на **успешное добавление студентов к учебной программе по id** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_store_successful()**:
         -статус - 200,
         -статус о том, что студенты добавлены к учебной программе,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о наличии данных в целом,
         -утверждение о соответсвии структуры созданных данных.

##                         Destroy
-Тест на **удаление учебной программы со студентами по id без передачи токена аутентификации** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_destroy_without_token()**:
         -статус - 401,
         -утверждение о том,что пользоваетль не аутентифицирован.

-Тест на **удаление учебной программы со студентами по id без права доступа для учителя** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_destroy_without_permissions_teacher()**:
         -статус - 403,
         -утверждение о том,что пользоваетль не авторизован для удаления учебной программы со студентами.

-Тест на **удаление учебной программы со студентами по id без права доступа для студента** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_destroy_without_permissions_student()**:
         -статус - 403,
         -утверждение о том, что пользоваетль не авторизован для удаления учебной программы со студентами.

-Тест на **удаление учебной программы со студентами по id, которой не существует,не найдена** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_destroy_not_found()**:
         -статус - 404,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что учебная программа не найдена.

-Тест на **успешное удаление учебной программы со студентами по id** `{/api/v1/curriculums/'.$curriculum_id.'/students}`, метод **test_curriculum_student_destroy_successful()**:
         -статус - 200,
         -утверждение об успешном удалении учебной программы со студентами по id,
         -статус о том, что пользователь аутентифицирован,
         -утверждение о том, что в бд отсутствует соответсвующая учебная программа со студентами.
